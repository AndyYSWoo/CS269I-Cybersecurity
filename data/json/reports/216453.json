{
    "abilities": {
        "can_manage_common_responses?": false, 
        "can_manage_collaborators?": false, 
        "can_reopen?": false, 
        "can_ban_researcher?": false, 
        "can_create_severity?": false, 
        "can_assign_to_h1_triage?": false, 
        "can_agree_on_going_public?": false, 
        "assignable_team_member_groups": [], 
        "can_view_credential_account_details?": false, 
        "can_export?": false, 
        "can_create_retest?": false, 
        "can_assign_to_user?": false, 
        "can_use_common_responses?": false, 
        "can_hide_timeline?": false, 
        "can_be_manually_disclosed?": false, 
        "assignable_team_members": [], 
        "can_clone?": false, 
        "can_be_publicly_disclosed?": false, 
        "can_close_comments?": false, 
        "can_view_bounty_weights?": false, 
        "can_suggest_bounty_amount?": false, 
        "can_cancel_disclosure_request?": false, 
        "can_redact?": false, 
        "can_change_structured_scope?": false, 
        "can_post_internal_comments?": false, 
        "can_change_state?": false, 
        "can_change_weakness?": false, 
        "can_add_comment?": false, 
        "can_reassign_to_team?": false, 
        "can_change_title?": false, 
        "can_award_bounty?": false, 
        "can_award_swag?": false, 
        "can_close?": false, 
        "can_manage?": false
    }, 
    "comments_closed?": false, 
    "substate": "resolved", 
    "bug_reporter_agreed_on_going_public_at": null, 
    "voters": [
        "edoverflow", 
        "eveeez", 
        "muhammad_uwais", 
        "haxta4ok00", 
        "apapedulimu", 
        "m7mdharoun", 
        "linkks", 
        "pratikx99", 
        "spetr0x", 
        "alaaeb3ad", 
        "and 1 more..."
    ], 
    "facebook_team?": false, 
    "has_bounty?": false, 
    "rejected_anc_report_that_can_be_sent_back_to_anc_triagers?": false, 
    "original_report_id": null, 
    "id": 216453, 
    "can_view_team": true, 
    "team_member_agreed_on_going_public_at": "2017-04-06T04:08:03.765Z", 
    "vulnerability_information": "This affects merge request/issue comments and probably other parts of the user interface.\n\nI am demonstrating PoCs on GitLab.com itself, as they don't affect anything outside of my test repo, which is private. It could be used to execute some js actions by contructing content that uses the pre-existing attached event handlers (for example, `onclick`), but I am not sure how far could that go \u2014 I have not reviewed that, the mentioned issues are already pretty bad.\n\nThis could be used to make some issue/merge request pages inaccessible, to forge page content and potentially forge or hide other users comments in the thread.\n\n## PoC 1 \u2014 full-size message\nDemo: https://gitlab.com/ChALkeR/my-private-test-project/issues/2\n```html\n<pre class=\"zen-backdrop fullscreen sherlock-line-samples-table center\">\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n<img src=\"https://about.gitlab.com/images/press/logo/wm_no_bg.svg\" width=\"500\">\n<h2>Hello there! Something has gone wrong, we are working on it.</h2>\n<h3>In the meantime, play a game with us at <a href=\"http://example.com/\">example.com</a>.</h3>\n</pre>\n```\n\n## PoC 2 \u2014 basic JavaScript\n\nDemo: https://gitlab.com/ChALkeR/my-private-test-project/issues/3\n```html\n<pre class=\"js-details-expand\">click me</pre>\n<pre class=\"js-details-content hide\">foo</pre>\n```\n\nThere is a significant amout of onlick event listeners that are bound using just the classname, so it is possible to do some basic stuff with just classes and might be possible to execute more complex actions.\n\nI have not reviewed all instances in the JS where the classnames are used, that is irrelevant to fixing this issue.\n\n## Suggested fix\nBoth of the following should be applied:\n * Filter `class` attributes (higher priority).\n * Make sure that user content couldn't be displayed outside of the bounding box, e.g. by applying `oveflow:hidden` (lower priority).", 
    "activity_page_count": 1, 
    "severity": {
        "metrics": {
            "confidentiality": "none", 
            "privileges_required": "low", 
            "user_interaction": "none", 
            "attack_vector": "network", 
            "attack_complexity": "low", 
            "scope": "unchanged", 
            "integrity": "low", 
            "availability": "low"
        }, 
        "rating": "medium", 
        "score": 5.4, 
        "author_type": "User"
    }, 
    "title": "Unfiltered `class` attribute in markdown code", 
    "is_member_of_team?": null, 
    "vote_count": 11, 
    "summaries": [
        {
            "category": "team", 
            "can_create?": false, 
            "can_view?": true
        }, 
        {
            "category": "researcher", 
            "can_create?": false, 
            "can_view?": true
        }
    ], 
    "structured_scope": null, 
    "allow_singular_disclosure_at": "2017-05-06T04:08:03.824Z", 
    "state": "Closed", 
    "cve_ids": [], 
    "activity_page_number": 1, 
    "readable_substate": "Resolved", 
    "public": true, 
    "attachments": [
        {
            "file_name": "Spectacle.F20349.png", 
            "type": "image/png", 
            "id": 171563, 
            "expiring_url": "https://hackerone-us-west-2-production-attachments.s3-us-west-2.amazonaws.com/000/171/563/15d32a32e6251277b34b284ddf547b2bbb76cace/Spectacle.F20349.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAQGK6FURQ2G5YP65E%2F20181206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20181206T224041Z&X-Amz-Expires=3600&X-Amz-Security-Token=FQoGZXIvYXdzEA8aDBU1F5krpICaZ0NqsCK3A6VE3SvOEqtR6mTF0RGsq2RFtP%2BeCnscHc5QWUWgfaEy6uXh0YyE%2Bu%2FBf1bgQOuQySCtb1Z%2BZ6sLON3HRMq%2BgYmhgdN4si0rU1p4nOiBj6crMBDlPKrwCFw0SRWaa%2FeWJtScRo9HMxA318TQuy1cnz2RYUYCxaU0Jci%2BrDGNmR0becuinzwZxwbm9sdysqqkTqFq64D7gI7nTrej5s6rDW11vFWqHpUP2d1FhvBaFOAjy8GP523rvRQSSyFkXe9YJUVlNrSLtqEAenEAnsweq3B3e669G9C%2FHm8G06ThADW69XI9pnMKVDT3FsJRtvkiltR9fsPJGB94knGZqwwdAK33UZ6TzU7QFoNEMoH%2BuvrEkO7SW8nmlfngtoX7AqMEGVMNAktUrQgR3jBfz1AXbDyaVpNINObIwvcxkjAPeH%2BJ9fJANeefQc2S9wtnpHnZGI8bjrMu%2F%2BBZHNLud7642CzhDwWVt363%2B%2B45PABKA6apczYhBSmM6I6woOQCnxMCpcKiqGyhztmN1LCRqv7FY5wPxjrGQArJvuYDfVGrN5Q7QMy6qocAzCdmYXfTag83vWxBpO15sjYooKOm4AU%3D&X-Amz-SignedHeaders=host&X-Amz-Signature=5a6eea5d902f80244799051502147c574c96227b1d273ae6ffb2f60c2667305a"
        }
    ], 
    "singular_disclosure_disabled": false, 
    "activities": [
        {
            "automated_response": false, 
            "created_at": "2017-03-27T16:32:38.582Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-03-27T16:32:38.582Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "By filtering `class` atributes I mean \u2014 either remove them completely, or allow a predefined set of allowed (whitelisted) classes.", 
            "markdown_message": "<p>By filtering <code>class</code> atributes I mean \u2014 either remove them completely, or allow a predefined set of allowed (whitelisted) classes.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1565602, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-03-27T16:33:20.897Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-03-27T16:33:20.897Z", 
            "actor": {
                "username": "rspeicher", 
                "url": "/rspeicher", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/070/800/71ae869ab45b05d47a2118c159952ebe3ceca17e_medium.jpg?1519748506"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Thank you for the report @chalker. I've opened a confidential issue at https://gitlab.com/gitlab-org/gitlab-ce/issues/30125 so we can discuss a fix. We'll keep you updated here on its progress.", 
            "markdown_message": "<p>Thank you for the report <a href=\"/chalker\">@chalker</a>. I&#39;ve opened a confidential issue at <a title=\"https://gitlab.com/gitlab-org/gitlab-ce/issues/30125\" href=\"/redirect?signature=a3b7eb14ede20dca026c865adb1d2295936bdab1&amp;url=https%3A%2F%2Fgitlab.com%2Fgitlab-org%2Fgitlab-ce%2Fissues%2F30125\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>https://gitlab.com/gitlab-org/gitlab-ce/issues/30125</span><i class=\"icon-external-link\"></i></a> so we can discuss a fix. We&#39;ll keep you updated here on its progress.</p>\n", 
            "type": "Activities::BugTriaged", 
            "id": 1565605, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-03-28T17:07:01.835Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-03-28T17:07:01.835Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Any updates on this? The first fix (whitelisting allowed classes) should be trivial and would fix the most important issue here.", 
            "markdown_message": "<p>Any updates on this? The first fix (whitelisting allowed classes) should be trivial and would fix the most important issue here.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1568283, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-03-28T17:14:41.807Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-03-28T17:14:41.807Z", 
            "actor": {
                "username": "briann", 
                "url": "/briann", 
                "profile_picture_urls": {
                    "medium": "/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "@chalker,\n\nNothing yet. You have to give us more than one day!  ;)", 
            "markdown_message": "<p><a href=\"/chalker\">@chalker</a>,</p>\n\n<p>Nothing yet. You have to give us more than one day!  ;)</p>\n", 
            "type": "Activities::Comment", 
            "id": 1568299, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-03-28T17:14:49.068Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-03-28T17:14:49.068Z", 
            "actor": {
                "username": "rspeicher", 
                "url": "/rspeicher", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/070/800/71ae869ab45b05d47a2118c159952ebe3ceca17e_medium.jpg?1519748506"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "@chalker A fix is in progress. It's not entirely trivial because our syntax highlighting code is affected.", 
            "markdown_message": "<p><a href=\"/chalker\">@chalker</a> A fix is in progress. It&#39;s not entirely trivial because our syntax highlighting code is affected.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1568300, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-03-29T09:34:59.642Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-03-29T09:34:59.642Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Ah, ok.\n\nThe reason why I'm asking is because this issue is not unique to GitLab implementation, so I'm trying to coordinate things.\n\nBtw, could you please delay the public disclosure until a further confirmation, just in case?\nReleasing a public patch is fine, I'm talking only about making this report public or publishing something like a blog post.", 
            "markdown_message": "<p>Ah, ok.</p>\n\n<p>The reason why I&#39;m asking is because this issue is not unique to GitLab implementation, so I&#39;m trying to coordinate things.</p>\n\n<p>Btw, could you please delay the public disclosure until a further confirmation, just in case?<br>\nReleasing a public patch is fine, I&#39;m talking only about making this report public or publishing something like a blog post.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1569923, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-03-29T10:39:18.706Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-03-29T10:39:18.706Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Note that I'm reporting a similar issue to another open-source project today, and when they fix that \u2014 it's probably going to be present in their changelog/commit log likewise.\n\nI am going to ask them to delay other means of public disclosure.", 
            "markdown_message": "<p>Note that I&#39;m reporting a similar issue to another open-source project today, and when they fix that \u2014 it&#39;s probably going to be present in their changelog/commit log likewise.</p>\n\n<p>I am going to ask them to delay other means of public disclosure.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1570026, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-03-29T19:09:48.561Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-03-29T19:09:48.561Z", 
            "actor": {
                "username": "briann", 
                "url": "/briann", 
                "profile_picture_urls": {
                    "medium": "/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "@chalker,\n\nWe always try to include a description of each vulnerability in the security release blog post so that users can make an informed decision about the impact of the vulnerability and better determine if they need to upgrade.\n\nDepending on when the other project will be releasing a patch we might be able to coordinate a release for the same day if it's important.", 
            "markdown_message": "<p><a href=\"/chalker\">@chalker</a>,</p>\n\n<p>We always try to include a description of each vulnerability in the security release blog post so that users can make an informed decision about the impact of the vulnerability and better determine if they need to upgrade.</p>\n\n<p>Depending on when the other project will be releasing a patch we might be able to coordinate a release for the same day if it&#39;s important.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1571285, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-03-29T19:30:46.416Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-03-29T19:30:46.416Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Thanks.\nPart of the issue here is the fact that the number of parties involved is more than 2.\n\nI will ask you to delay publishing this until a confirmation is received.\nI will ask other parties not to publish this until I receive a confirmation from you.\n\nLet me know if it's ok to share the fact that GitLab is affected with other parties or not (that might ease the coordination).\n\nNikita.", 
            "markdown_message": "<p>Thanks.<br>\nPart of the issue here is the fact that the number of parties involved is more than 2.</p>\n\n<p>I will ask you to delay publishing this until a confirmation is received.<br>\nI will ask other parties not to publish this until I receive a confirmation from you.</p>\n\n<p>Let me know if it&#39;s ok to share the fact that GitLab is affected with other parties or not (that might ease the coordination).</p>\n\n<p>Nikita.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1571331, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-03T09:09:56.250Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-03T09:09:56.250Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Hi! I am waiting for a confirmation from a thirdparty that this could be disclosed, and hope to receive that confirmation soon.\n\nWhat is the status of the fix on your side \u2014 i.e. is it ready to be released?", 
            "markdown_message": "<p>Hi! I am waiting for a confirmation from a thirdparty that this could be disclosed, and hope to receive that confirmation soon.</p>\n\n<p>What is the status of the fix on your side \u2014 i.e. is it ready to be released?</p>\n", 
            "type": "Activities::Comment", 
            "id": 1579900, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-03T11:23:42.640Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-03T11:25:15.817Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Hi. Status update: the number of affected projects with the exact same issue (with minor differences) increased to 5.\n\nThey were all informed about this issue being present in their software and that it is not unique to their software (i.e. that full public disclosure requires at least some level of coordination), in pretty much the same language as here.\n\nOne of them, gogs, has made a public commit with the fix, but did not make a public statement about the issue.\nRef: https://github.com/gogits/gogs/commit/9d06ebd01a07b51ab2513e171dcfb79183c4997c", 
            "markdown_message": "<p>Hi. Status update: the number of affected projects with the exact same issue (with minor differences) increased to 5.</p>\n\n<p>They were all informed about this issue being present in their software and that it is not unique to their software (i.e. that full public disclosure requires at least some level of coordination), in pretty much the same language as here.</p>\n\n<p>One of them, gogs, has made a public commit with the fix, but did not make a public statement about the issue.<br>\nRef: <a title=\"https://github.com/gogits/gogs/commit/9d06ebd01a07b51ab2513e171dcfb79183c4997c\" href=\"/redirect?signature=93057a18c0cf9e8aeae4d988df3ecda8240cf488&amp;url=https%3A%2F%2Fgithub.com%2Fgogits%2Fgogs%2Fcommit%2F9d06ebd01a07b51ab2513e171dcfb79183c4997c\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>https://github.com/gogits/gogs/commit/9d06ebd01a07b51ab2513e171dcfb79183c4997c</span><i class=\"icon-external-link\"></i></a></p>\n", 
            "type": "Activities::Comment", 
            "id": 1580143, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-03T11:41:56.530Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-03T11:41:56.530Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Note: gogs fix is incomplete, DO NOT reproduce it.", 
            "markdown_message": "<p>Note: gogs fix is incomplete, DO NOT reproduce it.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1580172, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-03T17:55:21.010Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-03T17:55:21.010Z", 
            "actor": {
                "username": "briann", 
                "url": "/briann", 
                "profile_picture_urls": {
                    "medium": "/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Hi @chalker,\n\nWe're not comfortable with our vulnerability being shared with other projects. We have several other security patches that we would normally bundle into a security release that are in various stages of readiness. The patch for this vulnerability it ready to go but we'd prefer to bundle it with the others so we don't have several security releases in the same week. That places a large burden on administrators.\n\nIf you have a date you can provide us as to when the other projects will be releasing their patches we can do our best to release at the same time, but otherwise I think we're fine with everyone releasing on their own schedule.", 
            "markdown_message": "<p>Hi <a href=\"/chalker\">@chalker</a>,</p>\n\n<p>We&#39;re not comfortable with our vulnerability being shared with other projects. We have several other security patches that we would normally bundle into a security release that are in various stages of readiness. The patch for this vulnerability it ready to go but we&#39;d prefer to bundle it with the others so we don&#39;t have several security releases in the same week. That places a large burden on administrators.</p>\n\n<p>If you have a date you can provide us as to when the other projects will be releasing their patches we can do our best to release at the same time, but otherwise I think we&#39;re fine with everyone releasing on their own schedule.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1581165, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-03T18:12:38.871Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-03T18:12:38.871Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Thanks for the response.\n\nGitHub just informed me that the issue is fixed on their side, including GitHub Enterprise, and that they are ok with a private disclosure with other projects (including the fact that GitHub was involved).\nTheir release notes are here: https://enterprise.github.com/releases/2.9.2/notes\n\nNote that there are other affected projects, apart from GitHub and GitLab, but the rest of them are either less affected by this or are less popular than GitLab.\n\n> We're not comfortable with our vulnerability being shared with other projects.\n\nOk, I am not going to mention GitLab to other projects at this point.\n\nThe main reason why I asked is because I wanted to give other projects a good reason for not disclosing this atm, but I guess this is not needed anymore (see below).\n\n> If you have a date you can provide us as to when the other projects will be releasing their patches we can do our best to release at the same time, but otherwise I think we're fine with everyone releasing on their own schedule.\n\nNo, I don't have a date, it's hard to organize things like this .\n\nCan you confirm that you are ok with other projects releasing fixes to this specific issue in their code with the detailed information at this point? Note that GitHub has not released the detailed information in their release notes, and I asked them not to (because there were other affected projects).\n\nNikita.", 
            "markdown_message": "<p>Thanks for the response.</p>\n\n<p>GitHub just informed me that the issue is fixed on their side, including GitHub Enterprise, and that they are ok with a private disclosure with other projects (including the fact that GitHub was involved).<br>\nTheir release notes are here: <a title=\"https://enterprise.github.com/releases/2.9.2/notes\" href=\"/redirect?signature=e8d3cef376176cce1e40b8d3b5bdd8c18b13935d&amp;url=https%3A%2F%2Fenterprise.github.com%2Freleases%2F2.9.2%2Fnotes\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>https://enterprise.github.com/releases/2.9.2/notes</span><i class=\"icon-external-link\"></i></a></p>\n\n<p>Note that there are other affected projects, apart from GitHub and GitLab, but the rest of them are either less affected by this or are less popular than GitLab.</p>\n\n<blockquote>\n<p>We&#39;re not comfortable with our vulnerability being shared with other projects.</p>\n</blockquote>\n\n<p>Ok, I am not going to mention GitLab to other projects at this point.</p>\n\n<p>The main reason why I asked is because I wanted to give other projects a good reason for not disclosing this atm, but I guess this is not needed anymore (see below).</p>\n\n<blockquote>\n<p>If you have a date you can provide us as to when the other projects will be releasing their patches we can do our best to release at the same time, but otherwise I think we&#39;re fine with everyone releasing on their own schedule.</p>\n</blockquote>\n\n<p>No, I don&#39;t have a date, it&#39;s hard to organize things like this .</p>\n\n<p>Can you confirm that you are ok with other projects releasing fixes to this specific issue in their code with the detailed information at this point? Note that GitHub has not released the detailed information in their release notes, and I asked them not to (because there were other affected projects).</p>\n\n<p>Nikita.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1581220, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-04T02:13:13.291Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-04T02:13:13.291Z", 
            "actor": {
                "username": "briann", 
                "url": "/briann", 
                "profile_picture_urls": {
                    "medium": "/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Hi @chalker,\n\nBecause we unlock our patch issues and merge requests whenever we perform a security release it's almost impossible for us to hide a patch without providing a summary. People would notice a merge request with no matching description. That would likely draw more attention than releasing it with the full write-up.\n\nWe're planning to release our patch this Wednesday, April 5th. If that's OK with you and the other projects please let us know. Thanks!", 
            "markdown_message": "<p>Hi <a href=\"/chalker\">@chalker</a>,</p>\n\n<p>Because we unlock our patch issues and merge requests whenever we perform a security release it&#39;s almost impossible for us to hide a patch without providing a summary. People would notice a merge request with no matching description. That would likely draw more attention than releasing it with the full write-up.</p>\n\n<p>We&#39;re planning to release our patch this Wednesday, April 5th. If that&#39;s OK with you and the other projects please let us know. Thanks!</p>\n", 
            "type": "Activities::Comment", 
            "id": 1582061, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-04T05:17:13.343Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-04T05:24:10.363Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Hi @briann.\n\n> Because we unlock our patch issues and merge requests whenever we perform a security release it's almost impossible for us to hide a patch without providing a summary.\n\nYes, thanks, that is understandable. I am just trying to figure out the best course of action here.\n\n> People would notice a merge request with no matching description. That would likely draw more attention than releasing it with the full write-up.\n\nThat looks like a valid consideration, I overlooked that.\n\n> We're planning to release our patch this Wednesday, April 5th.\n\nOk, I will try to let others know, thanks!\n\nThe problem on my side is that telling others that a coordinated release is needed without providing enough information about the fact that the issue is present in some other major open-source project is impossible, and \u00absome other major open-source project\u00bb could be pretty much deduceable \u2014 the total number of similar popular projects is not too high, and the issue is shared.\n\nThis is a message (with minor differences) I just sent to two independent thirdparty projects:\n\n> Hi. There at least one more project that is more popular than **redacted** there.\n> They are planning to do a release on Wednesday, April 5th.\n> Please hold off disclosing the issue until that date.\n> On the other hand, their release will disclose the issue (in their project, but the issue is shared between several projects, including **redacted**), so it would be best to prepare a release by then and to perform a coordinated release on Wednesday, April 5th.\n> If that is impossible, then note that any date after April 5th will be ok and there would be no more need for you to hold off disclosure anymore.\n\nThis is the best thing that I could do IMO in this course of action, though.\n\nNote that all of them are also open-source and also provide detailed information, so they are in the same position as you. On the other hand, they are either less popular or less affected than GitLab.\n\nNikita.", 
            "markdown_message": "<p>Hi <a href=\"/briann\">@briann</a>.</p>\n\n<blockquote>\n<p>Because we unlock our patch issues and merge requests whenever we perform a security release it&#39;s almost impossible for us to hide a patch without providing a summary.</p>\n</blockquote>\n\n<p>Yes, thanks, that is understandable. I am just trying to figure out the best course of action here.</p>\n\n<blockquote>\n<p>People would notice a merge request with no matching description. That would likely draw more attention than releasing it with the full write-up.</p>\n</blockquote>\n\n<p>That looks like a valid consideration, I overlooked that.</p>\n\n<blockquote>\n<p>We&#39;re planning to release our patch this Wednesday, April 5th.</p>\n</blockquote>\n\n<p>Ok, I will try to let others know, thanks!</p>\n\n<p>The problem on my side is that telling others that a coordinated release is needed without providing enough information about the fact that the issue is present in some other major open-source project is impossible, and \u00absome other major open-source project\u00bb could be pretty much deduceable \u2014 the total number of similar popular projects is not too high, and the issue is shared.</p>\n\n<p>This is a message (with minor differences) I just sent to two independent thirdparty projects:</p>\n\n<blockquote>\n<p>Hi. There at least one more project that is more popular than <strong>redacted</strong> there.<br>\nThey are planning to do a release on Wednesday, April 5th.<br>\nPlease hold off disclosing the issue until that date.<br>\nOn the other hand, their release will disclose the issue (in their project, but the issue is shared between several projects, including <strong>redacted</strong>), so it would be best to prepare a release by then and to perform a coordinated release on Wednesday, April 5th.<br>\nIf that is impossible, then note that any date after April 5th will be ok and there would be no more need for you to hold off disclosure anymore.</p>\n</blockquote>\n\n<p>This is the best thing that I could do IMO in this course of action, though.</p>\n\n<p>Note that all of them are also open-source and also provide detailed information, so they are in the same position as you. On the other hand, they are either less popular or less affected than GitLab.</p>\n\n<p>Nikita.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1582180, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-04T11:39:50.908Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-04T11:39:50.908Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "> We're planning to release our patch this Wednesday, April 5th. If that's OK with you and the other projects please let us know. Thanks!\n\nI notified other projects about the scheduled disclosure for April 5th, they are ok with that and will also publish their releases and disclosure on April 5th or later.", 
            "markdown_message": "<blockquote>\n<p>We&#39;re planning to release our patch this Wednesday, April 5th. If that&#39;s OK with you and the other projects please let us know. Thanks!</p>\n</blockquote>\n\n<p>I notified other projects about the scheduled disclosure for April 5th, they are ok with that and will also publish their releases and disclosure on April 5th or later.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1582648, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-04T14:56:13.430Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-04T14:56:13.430Z", 
            "actor": {
                "username": "briann", 
                "url": "/briann", 
                "profile_picture_urls": {
                    "medium": "/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "I understand and appreciate you going above-and-beyond to help coordinate the releases. We have a security release scheduled for Wednesday including some other fixes, but if you do decide you'd like us to delay this particular patch please let me know and we'll remove it from that release.\n\nThanks for understanding.", 
            "markdown_message": "<p>I understand and appreciate you going above-and-beyond to help coordinate the releases. We have a security release scheduled for Wednesday including some other fixes, but if you do decide you&#39;d like us to delay this particular patch please let me know and we&#39;ll remove it from that release.</p>\n\n<p>Thanks for understanding.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1583008, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-04T15:18:16.984Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-04T15:18:16.984Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "@briann There is no need to delay this.\nAs I already said, other projects confirmed that April 5th (as you proposed) is ok.", 
            "markdown_message": "<p><a href=\"/briann\">@briann</a> There is no need to delay this.<br>\nAs I already said, other projects confirmed that April 5th (as you proposed) is ok.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1583073, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "reporter": {
                "username": "chalker", 
                "url": "/chalker"
            }, 
            "created_at": "2017-04-06T03:48:28.638Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-06T03:48:28.638Z", 
            "actor": {
                "username": "briann", 
                "url": "/briann", 
                "profile_picture_urls": {
                    "medium": "/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Hi @chalker,\n\nWe just released a patch for this vulnerability: https://about.gitlab.com/2017/04/05/gitlab-9-dot-0-dot-4-security-release/\n\nThanks so much for the report! Let us know if you'd prefer we link to another profile, twitter handle, or what-have-you in our vulnerability acknowledgements page. We'd be happy to oblige.", 
            "markdown_message": "<p>Hi <a href=\"/chalker\">@chalker</a>,</p>\n\n<p>We just released a patch for this vulnerability: <a title=\"https://about.gitlab.com/2017/04/05/gitlab-9-dot-0-dot-4-security-release/\" href=\"/redirect?signature=971cfa4385618462838d3288dd1a1f7199c64203&amp;url=https%3A%2F%2Fabout.gitlab.com%2F2017%2F04%2F05%2Fgitlab-9-dot-0-dot-4-security-release%2F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>https://about.gitlab.com/2017/04/05/gitlab-9-dot-0-dot-4-security-release/</span><i class=\"icon-external-link\"></i></a></p>\n\n<p>Thanks so much for the report! Let us know if you&#39;d prefer we link to another profile, twitter handle, or what-have-you in our vulnerability acknowledgements page. We&#39;d be happy to oblige.</p>\n", 
            "type": "Activities::BugResolved", 
            "id": 1586362, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-06T04:08:03.790Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-06T04:08:03.790Z", 
            "actor": {
                "username": "briann", 
                "url": "/briann", 
                "profile_picture_urls": {
                    "medium": "/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "first_to_agree": true, 
            "message": "", 
            "markdown_message": "", 
            "type": "Activities::AgreedOnGoingPublic", 
            "id": 1586380, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-06T05:41:19.601Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-06T05:41:19.601Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "@briann Thanks, that's great! =)\n\n> if you'd prefer we link to another profile, twitter handle, or what-have-you\n\nI usually use my GitHub profile ( https://github.com/ChALkeR/ ) \u2014 btw, that's where I will post the details on the issue (my [notes](https://github.com/ChALkeR/notes) repo is, in fact, my new blog). I would prefer that, with, perhaps, switching the link to the corresponding blog post in the said repo when I will prepare one \u2014 that would provide the readers more details on the issue.\n\nMy twitter handle is also fine ( https://twitter.com/skovorodan ), though I usually just post random stuff there.\n\n> briann requested to disclose this report publicly.\n\nAs for the disclosure of this exact thread \u2014 while that is a positive thing and I wish to see that happen, I would ask you to wait for some time (probably several days) until I receive confirmation from other projects, as this thread provides more information than your release notes (i.e. the fact that there were other projects affected).\n\nI am new to this HackerOne thing, so I have no experience of handling dislosure here, but please make sure that this thread does not go public until I receive a confirmation from all other affected parties (I will notify you here). \nThanks.\n\nNikita.", 
            "markdown_message": "<p><a href=\"/briann\">@briann</a> Thanks, that&#39;s great! =)</p>\n\n<blockquote>\n<p>if you&#39;d prefer we link to another profile, twitter handle, or what-have-you</p>\n</blockquote>\n\n<p>I usually use my GitHub profile ( <a title=\"https://github.com/ChALkeR/\" href=\"/redirect?signature=d3f0064d6da82683720571b054bc17d23aa4e0be&amp;url=https%3A%2F%2Fgithub.com%2FChALkeR%2F\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>https://github.com/ChALkeR/</span><i class=\"icon-external-link\"></i></a> ) \u2014 btw, that&#39;s where I will post the details on the issue (my <a href=\"/redirect?signature=a8ed5c4ab24e435f55a31ad3c0b4d496dc25f2ca&amp;url=https%3A%2F%2Fgithub.com%2FChALkeR%2Fnotes\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>notes</span><i class=\"icon-external-link\"></i></a> repo is, in fact, my new blog). I would prefer that, with, perhaps, switching the link to the corresponding blog post in the said repo when I will prepare one \u2014 that would provide the readers more details on the issue.</p>\n\n<p>My twitter handle is also fine ( <a title=\"https://twitter.com/skovorodan\" href=\"/redirect?signature=86a835c3342b1ee298df7d3687e2e5d772a69413&amp;url=https%3A%2F%2Ftwitter.com%2Fskovorodan\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>https://twitter.com/skovorodan</span><i class=\"icon-external-link\"></i></a> ), though I usually just post random stuff there.</p>\n\n<blockquote>\n<p>briann requested to disclose this report publicly.</p>\n</blockquote>\n\n<p>As for the disclosure of this exact thread \u2014 while that is a positive thing and I wish to see that happen, I would ask you to wait for some time (probably several days) until I receive confirmation from other projects, as this thread provides more information than your release notes (i.e. the fact that there were other projects affected).</p>\n\n<p>I am new to this HackerOne thing, so I have no experience of handling dislosure here, but please make sure that this thread does not go public until I receive a confirmation from all other affected parties (I will notify you here). <br>\nThanks.</p>\n\n<p>Nikita.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1586447, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-06T07:43:51.097Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-06T07:43:51.097Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "@briann, one more thing to note: the patch you made and deployed does not affect existing posts \u2014 e.g. if someone already posted malicous content to some server (e.g. GitLab.com), it would still be there.\n\nI.e. this fix does not re-process all the existing markdown comments, files, and other stuff. At least judging by what I observe on GitLab.com.", 
            "markdown_message": "<p><a href=\"/briann\">@briann</a>, one more thing to note: the patch you made and deployed does not affect existing posts \u2014 e.g. if someone already posted malicous content to some server (e.g. GitLab.com), it would still be there.</p>\n\n<p>I.e. this fix does not re-process all the existing markdown comments, files, and other stuff. At least judging by what I observe on GitLab.com.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1586562, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-06T10:05:04.293Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-06T10:05:04.293Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Re: disclosure: I see the \u00abPublic disclosure in 29d, 18hr, 5min\u00bb label now, that looks fine to me =).", 
            "markdown_message": "<p>Re: disclosure: I see the \u00abPublic disclosure in 29d, 18hr, 5min\u00bb label now, that looks fine to me =).</p>\n", 
            "type": "Activities::Comment", 
            "id": 1586718, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-07T01:52:01.369Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-07T01:52:01.369Z", 
            "actor": {
                "username": "briann", 
                "url": "/briann", 
                "profile_picture_urls": {
                    "medium": "/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "I'll update our acknowledgements page with your GitHub profile link. \n\nAs far public disclosure, we always leave that up to the reporter. If you prefer we don't disclose here we won't. But like you've noticed there's a delay of about a month by default unless both sides agree to disclose right away. The default for us is to always request disclosure right away because some reporters get antsy. \n\nRegarding the patch itself. These filters get re-run every time Markdown is rendered. If you're still seeing a vulnerability try clearing your cache and if it's still there please do let us know right away so we can look into again. Thanks for your help!", 
            "markdown_message": "<p>I&#39;ll update our acknowledgements page with your GitHub profile link. </p>\n\n<p>As far public disclosure, we always leave that up to the reporter. If you prefer we don&#39;t disclose here we won&#39;t. But like you&#39;ve noticed there&#39;s a delay of about a month by default unless both sides agree to disclose right away. The default for us is to always request disclosure right away because some reporters get antsy. </p>\n\n<p>Regarding the patch itself. These filters get re-run every time Markdown is rendered. If you&#39;re still seeing a vulnerability try clearing your cache and if it&#39;s still there please do let us know right away so we can look into again. Thanks for your help!</p>\n", 
            "type": "Activities::Comment", 
            "id": 1588357, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-07T05:59:36.793Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-07T06:05:57.687Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "> If you're still seeing a vulnerability try clearing your cache and if it's still there please do let us know right away so we can look into again.\n\nI am speaking about GitLab.com itself, and it looks like someone has to clear the cache on your side.\nAlso, the migration from 9.0.3 to 9.0.4 should have cleared the markdown cache for security reasons.\n\nIf anyone has exploited this vulnerability in the past on GitLab.com \u2014 their malicious code is still active.\nMoreover, if anyone has exploited the vulnerability in the past on some other domain \u2014 updating to 9.0.4 does not solve that for the user by itself without clearing the cache, and that (clearing the markdown cache) probably should have been done automatically.\n\nDemo (I made that public now): https://gitlab.com/ChALkeR/my-private-test-project/issues/2", 
            "markdown_message": "<blockquote>\n<p>If you&#39;re still seeing a vulnerability try clearing your cache and if it&#39;s still there please do let us know right away so we can look into again.</p>\n</blockquote>\n\n<p>I am speaking about GitLab.com itself, and it looks like someone has to clear the cache on your side.<br>\nAlso, the migration from 9.0.3 to 9.0.4 should have cleared the markdown cache for security reasons.</p>\n\n<p>If anyone has exploited this vulnerability in the past on GitLab.com \u2014 their malicious code is still active.<br>\nMoreover, if anyone has exploited the vulnerability in the past on some other domain \u2014 updating to 9.0.4 does not solve that for the user by itself without clearing the cache, and that (clearing the markdown cache) probably should have been done automatically.</p>\n\n<p>Demo (I made that public now): <a title=\"https://gitlab.com/ChALkeR/my-private-test-project/issues/2\" href=\"/redirect?signature=6d2cb7ba8ab6e60e3ff6fcacd04c87fdb402f98e&amp;url=https%3A%2F%2Fgitlab.com%2FChALkeR%2Fmy-private-test-project%2Fissues%2F2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>https://gitlab.com/ChALkeR/my-private-test-project/issues/2</span><i class=\"icon-external-link\"></i></a></p>\n", 
            "type": "Activities::Comment", 
            "id": 1588595, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-07T17:58:16.583Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-07T17:58:16.583Z", 
            "actor": {
                "username": "briann", 
                "url": "/briann", 
                "profile_picture_urls": {
                    "medium": "/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Ah, you're right. The cache used to be cleared with every release but that was recently changed for performance reasons. I've asked our production team to clear the cache. In the meantime I re-saved your PoC issue to reset the cache so you can verify it's no longer vulnerable. Thanks for the extra effort.", 
            "markdown_message": "<p>Ah, you&#39;re right. The cache used to be cleared with every release but that was recently changed for performance reasons. I&#39;ve asked our production team to clear the cache. In the meantime I re-saved your PoC issue to reset the cache so you can verify it&#39;s no longer vulnerable. Thanks for the extra effort.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1589802, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-07T18:43:56.675Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-07T18:43:56.675Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": ">  I've asked our production team to clear the cache. \n\nAnd what about all the other servers with GitLab installed on them?\n\n> I've asked our production team to clear the cache.\n\nJust checked \u2014 that hasn't been done yet.\n\n> In the meantime I re-saved your PoC issue to reset the cache so you can verify it's no longer vulnerable.\n\nThanks. My PoC was not the one I was worried about, though (I already verified that the issue is not reproduceable anymore on new comments), my concern here is about someone else posting actual malicious code before the update to 9.0.4 was made, on GitLab.com or on any server where GitLab is installed \u2014 that is not solved by update to 9.0.4.", 
            "markdown_message": "<blockquote>\n<p>I&#39;ve asked our production team to clear the cache. </p>\n</blockquote>\n\n<p>And what about all the other servers with GitLab installed on them?</p>\n\n<blockquote>\n<p>I&#39;ve asked our production team to clear the cache.</p>\n</blockquote>\n\n<p>Just checked \u2014 that hasn&#39;t been done yet.</p>\n\n<blockquote>\n<p>In the meantime I re-saved your PoC issue to reset the cache so you can verify it&#39;s no longer vulnerable.</p>\n</blockquote>\n\n<p>Thanks. My PoC was not the one I was worried about, though (I already verified that the issue is not reproduceable anymore on new comments), my concern here is about someone else posting actual malicious code before the update to 9.0.4 was made, on GitLab.com or on any server where GitLab is installed \u2014 that is not solved by update to 9.0.4.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1589909, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-13T09:32:58.506Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-13T09:32:58.506Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "@briann I believe that fixes for the unsanitized `class` attribute landed to every other project that I had in mind.\n\nThis is now disclosed at https://github.com/ChALkeR/notes/blob/master/Improper-markup-sanitization.md, including mentioning other projects.\n\nI am ok with making this specific thread on HackerOne public (i.e., disclosing it) at any time, starting from now.\n\nThanks!", 
            "markdown_message": "<p><a href=\"/briann\">@briann</a> I believe that fixes for the unsanitized <code>class</code> attribute landed to every other project that I had in mind.</p>\n\n<p>This is now disclosed at <a title=\"https://github.com/ChALkeR/notes/blob/master/Improper-markup-sanitization.md\" href=\"/redirect?signature=b51337bc9768eaecf0143cbfa34facd0a3268950&amp;url=https%3A%2F%2Fgithub.com%2FChALkeR%2Fnotes%2Fblob%2Fmaster%2FImproper-markup-sanitization.md\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>https://github.com/ChALkeR/notes/blob/master/Improper-markup-sanitization.md</span><i class=\"icon-external-link\"></i></a>, including mentioning other projects.</p>\n\n<p>I am ok with making this specific thread on HackerOne public (i.e., disclosing it) at any time, starting from now.</p>\n\n<p>Thanks!</p>\n", 
            "type": "Activities::Comment", 
            "id": 1609277, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-13T14:46:15.431Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-13T14:46:15.431Z", 
            "actor": {
                "username": "briann", 
                "url": "/briann", 
                "profile_picture_urls": {
                    "medium": "/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "Disclosed!", 
            "markdown_message": "<p>Disclosed!</p>\n", 
            "type": "Activities::ManuallyDisclosed", 
            "id": 1609735, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-13T15:23:19.894Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-13T15:23:19.894Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "[Noted!](https://github.com/ChALkeR/notes/blob/master/Improper-markup-sanitization.md#gitlab) ;-)\n\n@briann, @rspeicher, thanks again for taking care of this.\n\nMinor note, though: the Markdown cache on GitLab.com doesn't seem to be cleared yet.", 
            "markdown_message": "<p><a href=\"/redirect?signature=7f3a46f660ad4ecea72f9c3af1064ae4b7ba2ee2&amp;url=https%3A%2F%2Fgithub.com%2FChALkeR%2Fnotes%2Fblob%2Fmaster%2FImproper-markup-sanitization.md%23gitlab\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>Noted!</span><i class=\"icon-external-link\"></i></a> ;-)</p>\n\n<p><a href=\"/briann\">@briann</a>, <a href=\"/rspeicher\">@rspeicher</a>, thanks again for taking care of this.</p>\n\n<p>Minor note, though: the Markdown cache on GitLab.com doesn&#39;t seem to be cleared yet.</p>\n", 
            "type": "Activities::Comment", 
            "id": 1609828, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-13T15:34:32.649Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-13T15:34:32.649Z", 
            "actor": {
                "username": "briann", 
                "url": "/briann", 
                "profile_picture_urls": {
                    "medium": "/assets/avatars/default-71a302d706457f3d3a31eb30fa3e73e6cf0b1d677b8fa218eaeaffd67ae97918.png"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "@chalker,\n\nA task to clear the Markdown cache was run April 8th. Would you mind sending me a link to the issue that hasn't been reset? If you can do that privately here that would be great, otherwise please send it to security@gitlab.com. Thanks!\n\nhttps://gitlab.com/gitlab-com/infrastructure/issues/1571\n", 
            "markdown_message": "<p><a href=\"/chalker\">@chalker</a>,</p>\n\n<p>A task to clear the Markdown cache was run April 8th. Would you mind sending me a link to the issue that hasn&#39;t been reset? If you can do that privately here that would be great, otherwise please send it to <a title=\"security@gitlab.com\" href=\"mailto:security@gitlab.com\" rel=\"nofollow noopener noreferrer\">security@gitlab.com</a>. Thanks!</p>\n\n<p><a title=\"https://gitlab.com/gitlab-com/infrastructure/issues/1571\" href=\"/redirect?signature=a34dc17893011fadf230a68cbaa9b29f5279f087&amp;url=https%3A%2F%2Fgitlab.com%2Fgitlab-com%2Finfrastructure%2Fissues%2F1571\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>https://gitlab.com/gitlab-com/infrastructure/issues/1571</span><i class=\"icon-external-link\"></i></a></p>\n", 
            "type": "Activities::Comment", 
            "id": 1609851, 
            "genius_execution_id": null
        }, 
        {
            "automated_response": false, 
            "created_at": "2017-04-13T15:41:32.244Z", 
            "is_internal": false, 
            "editable": false, 
            "updated_at": "2017-04-13T15:41:32.244Z", 
            "actor": {
                "username": "chalker", 
                "url": "/chalker", 
                "profile_picture_urls": {
                    "medium": "https://profile-photos.hackerone-user-content.com/000/068/907/8d96ee4e93e21e566a3d51e2746ad4df2e53256a_medium.png?1490131885"
                }, 
                "hackerone_triager": false
            }, 
            "team_handle": "gitlab", 
            "message": "@briann I sent an email =).", 
            "markdown_message": "<p><a href=\"/briann\">@briann</a> I sent an email =).</p>\n", 
            "type": "Activities::Comment", 
            "id": 1609871, 
            "genius_execution_id": null
        }
    ], 
    "in_validation?": false, 
    "is_participant": false, 
    "singular_disclosure_allowed": true, 
    "reporter": {
        "username": "chalker", 
        "hacker_mediation": false, 
        "hackerone_triager": false, 
        "disabled": false, 
        "url": "/chalker", 
        "profile_picture_urls": {
            "small": "https://profile-photos.hackerone-user-content.com/000/068/907/f597f5ffcdc20460ef54feffb26e20d03f4d2421_small.png?1490131885"
        }, 
        "is_me?": false
    }, 
    "weakness": {
        "id": 63, 
        "name": "Cross-site Scripting (XSS) - DOM"
    }, 
    "is_external_bug": false, 
    "visibility": "full", 
    "allow_singular_disclosure_after": -50092357.874151535, 
    "disclosed_at": "2017-04-13T14:46:15.472Z", 
    "stage": 4, 
    "url": "https://hackerone.com/reports/216453", 
    "created_at": "2017-03-27T16:26:59.771Z", 
    "original_report_url": null, 
    "vulnerability_information_html": "<p>This affects merge request/issue comments and probably other parts of the user interface.</p>\n\n<p>I am demonstrating PoCs on GitLab.com itself, as they don&#39;t affect anything outside of my test repo, which is private. It could be used to execute some js actions by contructing content that uses the pre-existing attached event handlers (for example, <code>onclick</code>), but I am not sure how far could that go \u2014 I have not reviewed that, the mentioned issues are already pretty bad.</p>\n\n<p>This could be used to make some issue/merge request pages inaccessible, to forge page content and potentially forge or hide other users comments in the thread.</p>\n\n<h2 id=\"poc-1-full-size-message\">PoC 1 \u2014 full-size message</h2>\n\n<p>Demo: <a title=\"https://gitlab.com/ChALkeR/my-private-test-project/issues/2\" href=\"/redirect?signature=6d2cb7ba8ab6e60e3ff6fcacd04c87fdb402f98e&amp;url=https%3A%2F%2Fgitlab.com%2FChALkeR%2Fmy-private-test-project%2Fissues%2F2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>https://gitlab.com/ChALkeR/my-private-test-project/issues/2</span><i class=\"icon-external-link\"></i></a></p>\n<pre class=\"highlight html\"><code><span class=\"nt\">&lt;pre</span> <span class=\"na\">class=</span><span class=\"s\">&quot;zen-backdrop fullscreen sherlock-line-samples-table center&quot;</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;p&gt;</span><span class=\"ni\">&amp;nbsp;</span><span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p&gt;</span><span class=\"ni\">&amp;nbsp;</span><span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;p&gt;</span><span class=\"ni\">&amp;nbsp;</span><span class=\"nt\">&lt;/p&gt;</span>\n<span class=\"nt\">&lt;img</span> <span class=\"na\">src=</span><span class=\"s\">&quot;https://about.gitlab.com/images/press/logo/wm_no_bg.svg&quot;</span> <span class=\"na\">width=</span><span class=\"s\">&quot;500&quot;</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;h2&gt;</span>Hello there! Something has gone wrong, we are working on it.<span class=\"nt\">&lt;/h2&gt;</span>\n<span class=\"nt\">&lt;h3&gt;</span>In the meantime, play a game with us at <span class=\"nt\">&lt;a</span> <span class=\"na\">href=</span><span class=\"s\">&quot;http://example.com/&quot;</span><span class=\"nt\">&gt;</span>example.com<span class=\"nt\">&lt;/a&gt;</span>.<span class=\"nt\">&lt;/h3&gt;</span>\n<span class=\"nt\">&lt;/pre&gt;</span>\n</code></pre>\n<h2 id=\"poc-2-basic-javascript\">PoC 2 \u2014 basic JavaScript</h2>\n\n<p>Demo: <a title=\"https://gitlab.com/ChALkeR/my-private-test-project/issues/3\" href=\"/redirect?signature=f2ceee2b9588b6acda0097a7e935c3f8c4e89622&amp;url=https%3A%2F%2Fgitlab.com%2FChALkeR%2Fmy-private-test-project%2Fissues%2F3\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"><span>https://gitlab.com/ChALkeR/my-private-test-project/issues/3</span><i class=\"icon-external-link\"></i></a></p>\n<pre class=\"highlight html\"><code><span class=\"nt\">&lt;pre</span> <span class=\"na\">class=</span><span class=\"s\">&quot;js-details-expand&quot;</span><span class=\"nt\">&gt;</span>click me<span class=\"nt\">&lt;/pre&gt;</span>\n<span class=\"nt\">&lt;pre</span> <span class=\"na\">class=</span><span class=\"s\">&quot;js-details-content hide&quot;</span><span class=\"nt\">&gt;</span>foo<span class=\"nt\">&lt;/pre&gt;</span>\n</code></pre>\n<p>There is a significant amout of onlick event listeners that are bound using just the classname, so it is possible to do some basic stuff with just classes and might be possible to execute more complex actions.</p>\n\n<p>I have not reviewed all instances in the JS where the classnames are used, that is irrelevant to fixing this issue.</p>\n\n<h2 id=\"suggested-fix\">Suggested fix</h2>\n\n<p>Both of the following should be applied:</p>\n\n<ul>\n<li>Filter <code>class</code> attributes (higher priority).</li>\n<li>Make sure that user content couldn&#39;t be displayed outside of the bounding box, e.g. by applying <code>oveflow:hidden</code> (lower priority).</li>\n</ul>\n", 
    "severity_rating": "medium", 
    "team_private?": false, 
    "team": {
        "profile": {
            "website": "https://about.gitlab.com", 
            "about": "Open source software to collaborate on code", 
            "twitter_handle": "gitlab", 
            "name": "GitLab"
        }, 
        "handle": "gitlab", 
        "url": "https://hackerone.com/gitlab", 
        "state": "public_mode", 
        "profile_picture_urls": {
            "small": "https://profile-photos.hackerone-user-content.com/000/000/264/338ec4b43393873324e3f1911f2f107d025d13f1_small.png?1454722206", 
            "medium": "https://profile-photos.hackerone-user-content.com/000/000/264/f40e550269de1c8aef9adbdfe728c9aa8163a7e5_medium.png?1454722206"
        }, 
        "awards_miles": false, 
        "permissions": [], 
        "id": 264, 
        "default_currency": "usd"
    }, 
    "is_published": false
}